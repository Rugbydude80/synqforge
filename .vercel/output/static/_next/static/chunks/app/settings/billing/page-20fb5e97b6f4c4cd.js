try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="000f5805-992b-47c7-bead-b6970d7cfe46",e._sentryDebugIdIdentifier="sentry-dbid-000f5805-992b-47c7-bead-b6970d7cfe46")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9754],{1473:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},23327:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},25016:(e,s,t)=>{"use strict";t.d(s,{IM:()=>l,cn:()=>n,fw:()=>i});var a=t(2821),r=t(75889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function i(e){let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);return a<60?"just now":a<3600?"".concat(Math.floor(a/60),"m ago"):a<86400?"".concat(Math.floor(a/3600),"h ago"):a<604800?"".concat(Math.floor(a/86400),"d ago"):new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function l(e){return e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}},29810:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var a=t(95155),r=t(12115),n=t(36489),i=t(20063),l=t(35299),d=t(16485),c=t(78519),o=t(93499),m=t(95740),x=t(71847);let h=(0,x.A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var u=t(56154),p=t(91169);let g=(0,x.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var f=t(61362),b=t(97003),j=t(83209),N=t(67812),v=t(18720),y=t(46070),k=t(6132),w=t(32559),A=t(52619),E=t.n(A);function T(e){let{resourceType:s,used:t,limit:r,percentage:n,upgradeUrl:i="/settings/billing"}=e;if(n<90)return null;let l="tokens"===s?"AI tokens":"document ingestion",d=n>=100;return(0,a.jsxs)(w.Fc,{variant:d?"destructive":"default",className:"mb-4",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsx)(w.XL,{children:d?"".concat(l," limit reached"):"Approaching ".concat(l," limit")}),(0,a.jsxs)(w.TN,{className:"mt-2 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:d?(0,a.jsxs)(a.Fragment,{children:["You've used all ",r.toLocaleString()," ",l," for this month.","tokens"===s?" AI features are temporarily blocked.":" Document uploads are temporarily blocked."]}):(0,a.jsxs)(a.Fragment,{children:["You've used ",t.toLocaleString()," of ",r.toLocaleString()," ",l," (",n,"%). Consider upgrading to avoid interruptions."]})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Usage resets at the start of your next billing period."})]}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)(E(),{href:i,children:(0,a.jsx)(b.$,{variant:d?"default":"outline",size:"sm",children:d?"Upgrade Now":"View Plans"})})})]})]})}var S=t(1473),I=t(52056),R=t(23327),M=t(62401),C=t(40515),P=t(25016);function U(e){let{organizationId:s}=e,[t,n]=(0,r.useState)(!0),[i,l]=(0,r.useState)(null);if((0,r.useEffect)(()=>{!async function(){try{let e=await fetch("/api/billing/ai-actions-usage?organizationId=".concat(s));if(!e.ok)throw Error("Failed to fetch usage data");let t=await e.json();l(t)}catch(e){console.error("Error fetching AI actions usage:",e),l({actionsUsed:245,monthlyLimit:800,userTier:C.Kx.PRO,breakdown:{minimal:45,standard:150,comprehensive:50,comprehensiveThinking:0},resetDate:new Date(Date.now()+1296e6).toISOString(),rolloverActions:80})}finally{n(!1)}}()},[s]),t)return(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-purple-500 animate-pulse"}),(0,a.jsx)(j.ZB,{children:"AI Actions Usage"})]})}),(0,a.jsx)(j.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-8 bg-muted animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-4 bg-muted animate-pulse rounded"}),(0,a.jsx)("div",{className:"h-24 bg-muted animate-pulse rounded"})]})})]});if(!i)return null;let c=i.actionsUsed/i.monthlyLimit*100,o=i.monthlyLimit-i.actionsUsed,m=c>=90,x=c>=100,h={[C.yT.MINIMAL]:M.j.getActionsRequired(C.yT.MINIMAL),[C.yT.STANDARD]:M.j.getActionsRequired(C.yT.STANDARD),[C.yT.COMPREHENSIVE]:M.j.getActionsRequired(C.yT.COMPREHENSIVE),[C.yT.COMPREHENSIVE_THINKING]:M.j.getActionsRequired(C.yT.COMPREHENSIVE_THINKING)},p=i.resetDate?new Date(i.resetDate):null,f=p?Math.ceil((p.getTime()-Date.now())/864e5):null;return(0,a.jsxs)(j.Zp,{className:"col-span-full",children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-purple-500"}),(0,a.jsx)(j.ZB,{children:"AI Actions Usage"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(N.E,{variant:x?"destructive":"outline",className:(0,P.cn)("text-sm font-mono",m&&!x&&"border-amber-500 text-amber-600 dark:text-amber-400"),children:[c.toFixed(1),"% used"]}),(0,a.jsxs)(N.E,{variant:"secondary",className:"text-sm capitalize",children:[i.userTier," Plan"]})]})]}),(0,a.jsx)(j.BT,{children:"Monitor your monthly AI action consumption by context level"})]}),(0,a.jsxs)(j.Wu,{className:"space-y-6",children:[m&&(0,a.jsxs)("div",{className:(0,P.cn)("flex items-start gap-3 p-4 rounded-lg border-2",x?"bg-red-50 dark:bg-red-900/10 border-red-300 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/10 border-amber-300 dark:border-amber-800"),children:[(0,a.jsx)(I.A,{className:(0,P.cn)("h-5 w-5 flex-shrink-0 mt-0.5",x?"text-red-600":"text-amber-600")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:(0,P.cn)("font-semibold text-sm",x?"text-red-900 dark:text-red-100":"text-amber-900 dark:text-amber-100"),children:x?"AI Actions Limit Reached":"Running Low on AI Actions"}),(0,a.jsx)("p",{className:(0,P.cn)("text-sm mt-1",x?"text-red-700 dark:text-red-200":"text-amber-700 dark:text-amber-200"),children:x?"You have used all your monthly AI actions. Upgrade your plan or wait for the monthly reset to continue using AI features.":"You've used ".concat(c.toFixed(0),"% of your monthly AI actions. Consider upgrading if you need more capacity.")})]}),!x&&(0,a.jsx)(b.$,{size:"sm",variant:"outline",className:"shrink-0",children:"Upgrade Plan"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-4xl font-bold tabular-nums",children:i.actionsUsed.toLocaleString()}),(0,a.jsxs)("span",{className:"text-muted-foreground text-xl ml-2",children:["/ ",i.monthlyLimit.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Remaining"}),(0,a.jsx)("div",{className:"text-2xl font-bold tabular-nums",children:o.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative h-6 bg-secondary rounded-full overflow-hidden",children:[(0,a.jsx)("div",{className:(0,P.cn)("h-full transition-all rounded-full",x?"bg-red-500":m?"bg-amber-500":"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500"),style:{width:"".concat(Math.min(c,100),"%")}}),i.rolloverActions&&i.rolloverActions>0&&(0,a.jsx)("div",{className:"absolute top-0 h-full bg-emerald-500/30 border-l-2 border-emerald-600",style:{left:"".concat(Math.max(0,(i.monthlyLimit-i.rolloverActions)/i.monthlyLimit*100),"%"),width:"".concat(i.rolloverActions/i.monthlyLimit*100,"%")},title:"".concat(i.rolloverActions," rollover actions from last month")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Resets in ",f," ",1===f?"day":"days",p&&" (".concat(p.toLocaleDateString(),")")]})]}),i.rolloverActions&&i.rolloverActions>0&&(0,a.jsxs)("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:["+",i.rolloverActions," rollover actions"]})]})]})]}),i.breakdown&&(0,a.jsxs)("div",{className:"pt-4 border-t space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h4",{className:"text-sm font-semibold",children:"Usage by Context Level"})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[i.breakdown.minimal>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400",children:"MIN"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Minimal Context"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[h[C.yT.MINIMAL],"\xd7 action cost"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold tabular-nums",children:i.breakdown.minimal}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"actions"})]})]}),i.breakdown.standard>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400",children:"STD"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Standard Context"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[h[C.yT.STANDARD],"\xd7 action cost"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold tabular-nums",children:i.breakdown.standard}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"actions"})]})]}),i.breakdown.comprehensive>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Smart Context"}),(0,a.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:[h[C.yT.COMPREHENSIVE],"\xd7 \xb7 Semantic search enabled"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold tabular-nums text-purple-700 dark:text-purple-300",children:i.breakdown.comprehensive}),(0,a.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:"actions"})]})]}),i.breakdown.comprehensiveThinking>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-pink-50 dark:bg-pink-900/10 border border-pink-200 dark:border-pink-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-5 w-5 text-pink-600 dark:text-pink-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Deep Reasoning"}),(0,a.jsxs)("p",{className:"text-xs text-pink-600 dark:text-pink-400",children:[h[C.yT.COMPREHENSIVE_THINKING],"\xd7 \xb7 Advanced analysis"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold tabular-nums text-pink-700 dark:text-pink-300",children:i.breakdown.comprehensiveThinking}),(0,a.jsx)("div",{className:"text-xs text-pink-600 dark:text-pink-400",children:"actions"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-800",children:[(0,a.jsx)(R.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("p",{className:"text-xs text-blue-900 dark:text-blue-100 leading-relaxed",children:[(0,a.jsx)("strong",{children:"Smart Context"})," uses semantic search to find the 5 most relevant stories automatically, reducing token usage by 75% and improving story quality."," ",i.userTier===C.Kx.STARTER||i.userTier===C.Kx.CORE?(0,a.jsx)("span",{className:"font-semibold",children:"Upgrade to Pro to unlock Smart Context."}):(0,a.jsx)("span",{className:"font-semibold",children:"Available on your plan."})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Need more AI actions? Upgrade your plan for higher monthly limits."}),(0,a.jsx)(b.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsx)("a",{href:"/pricing",children:"View Plans"})})]})]})]})}function L(){var e;let{status:s}=(0,n.useSession)(),t=(0,i.useRouter)(),x=(0,i.useSearchParams)(),[k,w]=(0,r.useState)(!1),[A,E]=(0,r.useState)(null),[S,I]=(0,r.useState)(null),[R,M]=(0,r.useState)(null),[C,P]=(0,r.useState)(null),L=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/user/me",{credentials:"include"});if(!e.ok)return;let s=(await e.json()).organizationId;if(!s)return;P(s);let t=await fetch("/api/billing/usage?organizationId=".concat(s),{credentials:"include"});if(t.ok){let e=await t.json();E({tier:e.organization.plan,status:e.organization.subscriptionStatus,currentPeriodStart:null,currentPeriodEnd:e.organization.subscriptionRenewalAt,cancelAtPeriodEnd:!1}),I({aiUsage:{tokensUsed:e.currentUsage.tokensThisMonth,tokenPool:999999===e.entitlements.aiTokensIncluded?0x3b9ac9ff:e.entitlements.aiTokensIncluded,aiActionsCount:0,heavyJobsCount:0},seats:{usedSeats:e.currentUsage.seats,totalAvailableSeats:999999===e.entitlements.seatsIncluded?999999:e.entitlements.seatsIncluded,activeSeats:e.currentUsage.seats,pendingInvites:0,includedSeats:999999===e.entitlements.seatsIncluded?999999:e.entitlements.seatsIncluded,addonSeats:0},fairUsage:e.fairUsage});return}let a=await fetch("/api/stripe/subscription",{credentials:"include"});if(a.ok){let e=await a.json();E(e)}}catch(e){console.error("Error fetching subscription:",e)}},[]),D=(0,r.useCallback)(async()=>{if(!S)try{let e=await fetch("/api/usage",{credentials:"include"});if(e.ok){let s=await e.json();I(s)}}catch(e){console.error("Error fetching usage:",e)}},[S]);(0,r.useEffect)(()=>{if("loading"!==s){if("unauthenticated"===s)return void t.push("/auth/signin");"true"===x.get("success")&&(v.o.success("Subscription activated successfully!"),setTimeout(()=>{L(),D()},1e3)),"true"===x.get("canceled")&&v.o.error("Checkout canceled"),L(),D()}},[s,x,t,L,D]),(0,r.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&"authenticated"===s&&(L(),D())};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[s,L,D]),(0,r.useEffect)(()=>{if("authenticated"!==s)return;let e=setInterval(()=>{L(),D()},3e4);return()=>clearInterval(e)},[s,L,D]);let F=async e=>{try{M(e);let s=await fetch("/api/stripe/purchase-tokens",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({packageSize:e})}),t=await s.json();if(!s.ok)throw Error(t.error||"Failed to create checkout session");t.url&&(window.location.href=t.url)}catch(e){console.error("Error:",e),v.o.error(e.message||"Failed to purchase tokens")}finally{M(null)}},z=async()=>{try{w(!0);let e=await fetch("/api/user/me",{credentials:"include"});if(!e.ok)throw Error("Failed to get user info");let s=(await e.json()).organizationId;if(!s)throw Error("No organization found");let t=await fetch("/api/billing/portal",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({organizationId:s})});t.ok||404!==t.status||(t=await fetch("/api/stripe/create-portal-session",{method:"POST",credentials:"include"}));let a=await t.json();if(!t.ok)throw Error(a.error||"Failed to open billing portal");a.url&&(window.location.href=a.url)}catch(e){console.error("Error:",e),v.o.error(e.message||"Failed to open billing portal")}finally{w(!1)}};return"loading"===s?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin text-brand-purple-500"})}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(y.AppSidebar,{}),(0,a.jsxs)("main",{className:"flex-1 pl-64",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-card/80 backdrop-blur-xl px-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Billing & Subscription"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription and billing information"})]}),(0,a.jsx)(b.$,{variant:"outline",size:"sm",onClick:()=>{L(),D()},disabled:k,children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Refreshing..."]}):(0,a.jsx)(a.Fragment,{children:"Refresh"})})]}),(0,a.jsxs)("div",{className:"p-8 space-y-6 max-w-5xl",children:[C&&(0,a.jsx)(U,{organizationId:C}),(null==S?void 0:S.fairUsage)&&(0,a.jsxs)(a.Fragment,{children:[S.fairUsage.tokens&&S.fairUsage.tokens.limit>0&&(0,a.jsx)(T,{resourceType:"tokens",used:S.fairUsage.tokens.used,limit:S.fairUsage.tokens.limit,percentage:S.fairUsage.tokens.percentage,upgradeUrl:"/settings/billing"}),S.fairUsage.docs&&S.fairUsage.docs.limit>0&&(0,a.jsx)(T,{resourceType:"docs",used:S.fairUsage.docs.used,limit:S.fairUsage.docs.limit,percentage:S.fairUsage.docs.percentage,upgradeUrl:"/settings/billing"})]}),(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(j.ZB,{children:"Your Plan"}),(0,a.jsx)(j.BT,{children:(null==S||null==(e=S.seats)?void 0:e.usedSeats)>1?(0,a.jsxs)(a.Fragment,{children:["Your team is on the"," ",(0,a.jsx)("span",{className:"font-semibold capitalize",children:(null==A?void 0:A.tier)||"Free"})," ","plan"]}):(0,a.jsxs)(a.Fragment,{children:["You are on the"," ",(0,a.jsx)("span",{className:"font-semibold capitalize",children:(null==A?void 0:A.tier)||"Free"})," ","plan"]})})]}),(0,a.jsx)(N.E,{variant:(null==A?void 0:A.status)==="active"?"emerald":"outline",className:"capitalize",children:(null==A?void 0:A.status)||"Free"})]})}),(0,a.jsx)(j.Wu,{className:"space-y-4",children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Current Period"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[A.currentPeriodStart&&new Date(A.currentPeriodStart).toLocaleDateString()," ","-"," ",A.currentPeriodEnd&&new Date(A.currentPeriodEnd).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Payment Method"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:A.cancelAtPeriodEnd?"Cancels at period end":"Auto-renewal enabled"})]})]})]}),(0,a.jsx)(b.$,{onClick:z,disabled:k,className:"w-full md:w-auto",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Manage Subscription"]})})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"You are on the free plan. Upgrade to unlock more features!"}),(0,a.jsx)(b.$,{onClick:()=>t.push("/pricing"),children:"View Plans"})]})})]}),(null==S?void 0:S.aiUsage)&&(0,a.jsxs)(j.Zp,{className:"col-span-full",children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-purple-500"}),(0,a.jsx)(j.ZB,{children:"AI Token Usage"})]}),(0,a.jsxs)(N.E,{variant:"outline",className:"text-sm",children:[(S.aiUsage.tokensUsed/S.aiUsage.tokenPool*100).toFixed(1),"% used"]})]}),(0,a.jsx)(j.BT,{children:"Monitor your AI token consumption and purchase additional tokens as needed"})]}),(0,a.jsxs)(j.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-3xl font-bold",children:S.aiUsage.tokensUsed.toLocaleString()}),(0,a.jsxs)("span",{className:"text-muted-foreground text-lg ml-2",children:["/ ",S.aiUsage.tokenPool.toLocaleString()]})]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(S.aiUsage.tokenPool-S.aiUsage.tokensUsed).toLocaleString()," remaining"]})]}),(0,a.jsx)("div",{className:"relative h-4 bg-secondary rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full transition-all rounded-full ".concat(S.aiUsage.tokensUsed/S.aiUsage.tokenPool*100>90?"bg-red-500":S.aiUsage.tokensUsed/S.aiUsage.tokenPool*100>75?"bg-amber-500":"bg-gradient-to-r from-purple-500 to-pink-500"),style:{width:"".concat(Math.min(S.aiUsage.tokensUsed/S.aiUsage.tokenPool*100,100),"%")}})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tokens reset monthly on your billing cycle"})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(h,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h4",{className:"text-sm font-medium",children:"Need More Tokens?"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(j.Zp,{className:"border-2 hover:border-purple-500/50 transition-colors",children:(0,a.jsx)(j.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold",children:"50K Tokens"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"~50 story generations"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:"$5"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"one-time"})]}),(0,a.jsx)(b.$,{size:"sm",className:"w-full mt-2",variant:"outline",onClick:()=>F("small"),disabled:null!==R,children:"small"===R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing..."]}):"Purchase"})]})})}),(0,a.jsxs)(j.Zp,{className:"border-2 border-purple-500/50 hover:border-purple-500 transition-colors relative",children:[(0,a.jsx)(N.E,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-gradient-primary text-xs",children:"Best Value"}),(0,a.jsx)(j.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold",children:"150K Tokens"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"~150 story generations"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:"$12"}),(0,a.jsx)("span",{className:"text-xs text-emerald-500 font-medium",children:"Save 20%"})]}),(0,a.jsx)(b.$,{size:"sm",className:"w-full mt-2 bg-gradient-primary",onClick:()=>F("medium"),disabled:null!==R,children:"medium"===R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing..."]}):"Purchase"})]})})]}),(0,a.jsx)(j.Zp,{className:"border-2 hover:border-purple-500/50 transition-colors",children:(0,a.jsx)(j.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold",children:"500K Tokens"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-purple-500"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"~500 story generations"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsx)("span",{className:"text-2xl font-bold",children:"$35"}),(0,a.jsx)("span",{className:"text-xs text-emerald-500 font-medium",children:"Save 30%"})]}),(0,a.jsx)(b.$,{size:"sm",className:"w-full mt-2",variant:"outline",onClick:()=>F("large"),disabled:null!==R,children:"large"===R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing..."]}):"Purchase"})]})})})]})]})]})]}),S&&(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[S.seats&&(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)(j.ZB,{className:"text-base",children:"Team Seats"})]})}),(0,a.jsxs)(j.Wu,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-1",children:[S.seats.usedSeats," / ",S.seats.totalAvailableSeats]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:[S.seats.activeSeats," active \xb7 ",S.seats.pendingInvites," pending"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Included seats"}),(0,a.jsx)("span",{className:"font-medium",children:S.seats.includedSeats})]}),S.seats.addonSeats>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Add-on seats"}),(0,a.jsx)("span",{className:"font-medium",children:S.seats.addonSeats})]})]})]})]}),S.aiUsage&&(0,a.jsxs)(j.Zp,{children:[(0,a.jsx)(j.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)(j.ZB,{className:"text-base",children:"AI Actions"})]})}),(0,a.jsxs)(j.Wu,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold mb-1",children:S.aiUsage.aiActionsCount.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"this period"}),(0,a.jsx)("div",{className:"space-y-2 text-sm",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Heavy jobs"}),(0,a.jsx)("span",{className:"font-medium",children:S.aiUsage.heavyJobsCount})]})})]})]})]}),(0,a.jsxs)(j.Zp,{children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsx)(j.ZB,{children:"Plan Features"}),(0,a.jsx)(j.BT,{children:"What's included in your current plan"})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsx)("ul",{className:"space-y-3",children:(null==A?void 0:A.tier)==="pro"||(null==A?void 0:A.tier)==="enterprise"?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Unlimited projects and stories"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Advanced AI generation"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Export to Excel, Word, and PDF"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Custom templates"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Priority support"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"1 project"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Unlimited manual stories"})]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-brand-emerald-500"}),(0,a.jsx)("span",{children:"Basic AI generation"})]}),(0,a.jsx)("li",{className:"flex items-center gap-2 text-muted-foreground",children:(0,a.jsx)("span",{className:"line-through",children:"Export functionality"})}),(0,a.jsx)("li",{className:"flex items-center gap-2 text-muted-foreground",children:(0,a.jsx)("span",{className:"line-through",children:"Custom templates"})})]})})})]}),(!A||"free"===A.tier)&&(0,a.jsxs)(j.Zp,{className:"bg-gradient-primary text-white border-0",children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsx)(j.ZB,{children:"Unlock More Features"}),(0,a.jsx)(j.BT,{className:"text-white/80",children:"Upgrade to Pro or Enterprise for unlimited access"})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsx)(b.$,{variant:"secondary",onClick:()=>t.push("/pricing"),className:"bg-white text-brand-purple-600 hover:bg-white/90",children:"View Pricing Plans"})})]})]})]})]})}function D(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(l.A,{className:"w-8 h-8 animate-spin"})}),children:(0,a.jsx)(L,{})})}},32559:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var a=t(95155),r=t(12115),n=t(83101),i=t(25016);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(l({variant:r}),t),...n})});d.displayName="Alert";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})});c.displayName="AlertTitle";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...r})});o.displayName="AlertDescription"},35299:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40515:(e,s,t)=>{"use strict";t.d(s,{Kx:()=>r,Mh:()=>i,_E:()=>n,wL:()=>l,yT:()=>a});var a=function(e){return e.MINIMAL="minimal",e.STANDARD="standard",e.COMPREHENSIVE="comprehensive",e.COMPREHENSIVE_THINKING="comprehensive-thinking",e}({}),r=function(e){return e.STARTER="starter",e.CORE="core",e.PRO="pro",e.TEAM="team",e.ENTERPRISE="enterprise",e}({});let n={minimal:{level:"minimal",actionsRequired:1,tokenEstimate:2e3,features:["Basic story generation","INVEST rating"]},standard:{level:"standard",actionsRequired:2,tokenEstimate:3e3,features:["Project roles & terminology","Example stories for consistency","Common constraints"]},comprehensive:{level:"comprehensive",actionsRequired:2,tokenEstimate:4500,features:["All Standard features","Semantic search (top 5 similar stories)","Epic-level constraints","Dependency detection"]},"comprehensive-thinking":{level:"comprehensive-thinking",actionsRequired:3,tokenEstimate:6e3,features:["All Comprehensive features","Deep reasoning mode","Complex edge case analysis","Compliance & security focus"]}},i={starter:["minimal"],core:["minimal","standard"],pro:["minimal","standard","comprehensive"],team:["minimal","standard","comprehensive","comprehensive-thinking"],enterprise:["minimal","standard","comprehensive","comprehensive-thinking"]},l={starter:25,core:400,pro:800,team:15e3,enterprise:999999}},46070:(e,s,t)=>{"use strict";t.d(s,{AppSidebar:()=>k});var a=t(95155),r=t(20063),n=t(36489),i=t(12115),l=t(59384),d=t(87717),c=t(79397),o=t(89715),m=t(61194),x=t(95740),h=t(91169),u=t(65229),p=t(9540),g=t(15870),f=t(84926),b=t(97003),j=t(25016),N=t(15239);function v(e){let{className:s="",showText:t=!0,size:r="md",width:n,height:l}=e,[d,c]=(0,i.useState)("light"),[o,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{m(!0),c(document.documentElement.classList.contains("dark")?"dark":"light");let e=new MutationObserver(e=>{e.forEach(e=>{"class"===e.attributeName&&c(document.documentElement.classList.contains("dark")?"dark":"light")})});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>e.disconnect()},[]);let x={sm:{width:32,height:32},md:{width:40,height:40},lg:{width:48,height:48}},h=t?{width:n||240,height:l||60}:{width:n||x[r].width,height:l||x[r].height};return o?(0,a.jsx)("div",{className:"flex items-center ".concat(s),children:(0,a.jsx)(N.default,{src:t?"dark"===d?"/logo-dark.svg":"/logo-light.svg":"dark"===d?"/logo-icon-only-dark.svg":"/logo-icon-only-light.svg",alt:"SynqForge",width:h.width,height:h.height,priority:!0,className:"object-contain",style:{maxWidth:"100%",height:"auto"}})}):(0,a.jsx)("div",{style:{width:h.width,height:h.height},className:s})}let y=[{id:"dashboard",icon:l.A,label:"Dashboard",href:"/dashboard"},{id:"projects",icon:d.A,label:"Projects",href:"/projects"},{id:"epics",icon:c.A,label:"Epics",href:"/epics"},{id:"stories",icon:o.A,label:"Stories",href:"/stories"},{id:"tasks",icon:m.A,label:"Tasks",href:"/tasks"},{id:"ai",icon:x.A,label:"AI Tools",href:"/ai-generate"},{id:"team",icon:h.A,label:"Team",href:"/team"}];function k(){let e=(0,r.usePathname)(),s=(0,r.useRouter)(),[t,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{l(!1)},[e]),(0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);let d=e.startsWith("/dashboard")?"dashboard":e.startsWith("/projects")?"projects":e.startsWith("/epics")?"epics":e.startsWith("/stories")?"stories":e.startsWith("/tasks")?"tasks":e.startsWith("/ai-generate")?"ai":e.startsWith("/team")?"team":"dashboard";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>l(!t),className:"fixed left-4 top-4 z-50 flex h-10 w-10 items-center justify-center rounded-lg border border-border bg-card shadow-lg md:hidden","aria-label":"Toggle menu",children:t?(0,a.jsx)(u.A,{className:"h-5 w-5"}):(0,a.jsx)(p.A,{className:"h-5 w-5"})}),t&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:()=>l(!1),"aria-hidden":"true"}),(0,a.jsxs)("aside",{className:(0,j.cn)("fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card transition-transform duration-300 ease-in-out","md:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:[(0,a.jsx)("div",{className:"flex h-16 items-center border-b border-border px-6",children:(0,a.jsx)(v,{size:"md",showText:!0,width:180,height:45})}),(0,a.jsx)("nav",{className:"space-y-1 p-4",children:y.map(e=>(0,a.jsxs)("button",{onClick:()=>{s.push(e.href),l(!1)},className:(0,j.cn)("flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all",d===e.id?"bg-gradient-primary text-white shadow-lg shadow-brand-purple-500/20":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),e.label]},e.id))}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[(0,a.jsxs)(b.$,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>{s.push("/settings"),l(!1)},children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Settings"]}),(0,a.jsxs)(b.$,{variant:"outline",className:"w-full justify-start gap-2 text-red-400 hover:text-red-300 hover:border-red-400",onClick:()=>{l(!1),(0,n.signOut)({callbackUrl:"/auth/signin"})},children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"Logout"]})]})]})]})}},52056:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},56154:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},61362:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},62401:(e,s,t)=>{"use strict";t.d(s,{j:()=>r});var a=t(40515);class r{static canAccessContextLevel(e,s){return a.Mh[e].includes(s)}static getMaxContextLevel(e){let s=a.Mh[e];return s[s.length-1]}static getDefaultContextLevel(e){switch(e){case a.Kx.STARTER:return a.yT.MINIMAL;case a.Kx.CORE:case a.Kx.PRO:return a.yT.STANDARD;case a.Kx.TEAM:case a.Kx.ENTERPRISE:return a.yT.COMPREHENSIVE}}static getActionsRequired(e){return a._E[e].actionsRequired}static canAffordGeneration(e,s,t){let r=this.getActionsRequired(e),n=a.wL[s],i=n-t,l=t/n*100>=90;return i<r?{allowed:!1,reason:"Insufficient AI actions. Need ".concat(r,", have ").concat(i," remaining."),actionsRequired:r,actionsRemaining:i,nearLimit:l}:{allowed:!0,actionsRequired:r,actionsRemaining:i,nearLimit:l}}static getUpgradeMessage(e,s){var t,r;return null!=(r=null==(t=({[a.Kx.STARTER]:{[a.yT.STANDARD]:"Upgrade to Core (\xa310.99/mo) to use project context for 30-40% better accuracy",[a.yT.COMPREHENSIVE]:"Upgrade to Pro (\xa319.99/mo) to use epic context with semantic search",[a.yT.COMPREHENSIVE_THINKING]:"Upgrade to Team (\xa316.99/user) for advanced reasoning mode",[a.yT.MINIMAL]:""},[a.Kx.CORE]:{[a.yT.COMPREHENSIVE]:"Upgrade to Pro (\xa319.99/mo) to unlock semantic search with epic context",[a.yT.COMPREHENSIVE_THINKING]:"Upgrade to Team (\xa316.99/user) for advanced reasoning mode",[a.yT.STANDARD]:"",[a.yT.MINIMAL]:""},[a.Kx.PRO]:{[a.yT.COMPREHENSIVE_THINKING]:"Upgrade to Team (\xa316.99/user) to unlock thinking mode for complex stories",[a.yT.COMPREHENSIVE]:"",[a.yT.STANDARD]:"",[a.yT.MINIMAL]:""},[a.Kx.TEAM]:{[a.yT.COMPREHENSIVE_THINKING]:"",[a.yT.COMPREHENSIVE]:"",[a.yT.STANDARD]:"",[a.yT.MINIMAL]:""},[a.Kx.ENTERPRISE]:{[a.yT.COMPREHENSIVE_THINKING]:"",[a.yT.COMPREHENSIVE]:"",[a.yT.STANDARD]:"",[a.yT.MINIMAL]:""}})[e])?void 0:t[s])?r:""}static getMonthlyLimit(e){return a.wL[e]}static getActionsRemaining(e,s){return Math.max(0,this.getMonthlyLimit(e)-s)}static isNearLimit(e,s){return s>=.9*this.getMonthlyLimit(e)}static getAllowedContextLevels(e){return a.Mh[e]}}},67812:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(95155);t(12115);var r=t(83101),n=t(25016);let i=(0,r.F)("inline-flex items-center gap-1 rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-brand-purple-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-brand-purple-600 text-white shadow hover:bg-brand-purple-700",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700",destructive:"border-transparent bg-red-600 text-white shadow hover:bg-red-700",outline:"text-gray-900 border-gray-300 dark:text-gray-100 dark:border-gray-700",purple:"border-brand-purple-500/20 bg-brand-purple-500/10 text-brand-purple-600 dark:text-brand-purple-400",emerald:"border-brand-emerald-500/20 bg-brand-emerald-500/10 text-brand-emerald-600 dark:text-brand-emerald-400",gradient:"border-transparent bg-gradient-to-r from-brand-purple-600 to-brand-emerald-600 text-white shadow-lg"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...r})}},78519:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},78770:(e,s,t)=>{Promise.resolve().then(t.bind(t,29810))},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>m});var a=t(95155),r=t(12115),n=t(25016);let i=r.forwardRef((e,s)=>{let{className:t,gradient:r,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border border-gray-200 bg-white text-gray-900 shadow-lg dark:border-gray-800 dark:bg-gray-900 dark:text-gray-100",r&&"relative before:absolute before:inset-0 before:rounded-xl before:p-[1px] before:bg-gradient-to-r before:from-brand-purple-500 before:to-brand-emerald-500 before:-z-10",t),...i,children:r?(0,a.jsx)("div",{className:"relative z-10 bg-white dark:bg-gray-900 rounded-xl p-6",children:i.children}):i.children})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},93499:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},97003:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(95155),r=t(12115),n=t(32467),i=t(83101),l=t(25016);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-purple-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-brand-purple-600 to-brand-purple-500 text-white shadow-lg shadow-brand-purple-500/30 hover:shadow-xl hover:shadow-brand-purple-500/40 hover:scale-105 active:scale-95",secondary:"bg-gray-100 text-gray-900 shadow-sm hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700",outline:"border-2 border-gray-300 bg-transparent hover:bg-gray-100 hover:border-brand-purple-500 dark:border-gray-700 dark:hover:bg-gray-800",ghost:"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-100",link:"text-brand-purple-600 underline-offset-4 hover:underline",destructive:"bg-red-600 text-white shadow-sm hover:bg-red-700",purple:"bg-brand-purple-600 text-white shadow-lg shadow-brand-purple-500/30 hover:bg-brand-purple-700 hover:shadow-xl hover:shadow-brand-purple-500/40",emerald:"bg-brand-emerald-600 text-white shadow-lg shadow-brand-emerald-500/30 hover:bg-brand-emerald-700 hover:shadow-xl hover:shadow-brand-emerald-500/40",glass:"bg-white/10 backdrop-blur-lg border border-white/20 text-gray-900 hover:bg-white/20 dark:text-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:c=!1,loading:o,children:m,disabled:x,...h}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:r,size:i,className:t})),ref:s,disabled:x||o,...h,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:"Loading..."})]}):m})});c.displayName="Button"}},e=>{e.O(0,[5707,6489,8720,9484,207,4850,8441,504,7358],()=>e(e.s=78770)),_N_E=e.O()}]);
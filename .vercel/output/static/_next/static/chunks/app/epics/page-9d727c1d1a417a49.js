try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="4c354efa-0705-4f25-9201-5c32f3dcbccc",e._sentryDebugIdIdentifier="sentry-dbid-4c354efa-0705-4f25-9201-5c32f3dcbccc")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8127],{24033:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},62457:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var a=t(95155),r=t(12115),l=t(2327),i=t(79397),d=t(6191),o=t(86651),n=t(97003),c=t(83209),m=t(67812),x=t(47507),p=t(33789),u=t(44022),h=t(46070),g=t(65720),f=t(20063),j=t(89511),b=t(65229),y=t(25016);let v=j.bL;j.l9,j.bm;let N=j.ZL,w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(j.hJ,{className:(0,y.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});w.displayName=j.hJ.displayName;let S={top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-[85%] border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:w-3/4 sm:max-w-sm",right:"inset-y-0 right-0 h-full w-[85%] border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:w-3/4 sm:max-w-sm"},k=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:l,...i}=e;return(0,a.jsxs)(N,{children:[(0,a.jsx)(w,{}),(0,a.jsxs)(j.UC,{ref:s,className:(0,y.cn)("fixed z-50 gap-4 bg-background p-4 sm:p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",S[t],r),...i,children:[l,(0,a.jsxs)(j.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});k.displayName=j.UC.displayName;let C=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,y.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};C.displayName="SheetHeader";let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(j.hE,{ref:s,className:(0,y.cn)("text-lg font-semibold text-foreground",t),...r})});E.displayName=j.hE.displayName;let A=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(j.VY,{ref:s,className:(0,y.cn)("text-sm text-muted-foreground",t),...r})});A.displayName=j.VY.displayName;var P=t(21190),D=t(71360),_=t(93499);let F=(0,t(71847).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var I=t(16485),M=t(18720),G=t(73683),L=t(52619),z=t.n(L);let O={draft:"bg-gray-500/10 text-gray-400 border-gray-500/20",published:"bg-blue-500/10 text-blue-400 border-blue-500/20",planned:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",in_progress:"bg-purple-500/10 text-purple-400 border-purple-500/20",completed:"bg-green-500/10 text-green-400 border-green-500/20",archived:"bg-gray-500/10 text-gray-400 border-gray-500/20"},R={low:"bg-gray-500/10 text-gray-400 border-gray-500/20",medium:"bg-blue-500/10 text-blue-400 border-blue-500/20",high:"bg-orange-500/10 text-orange-400 border-orange-500/20",critical:"bg-red-500/10 text-red-400 border-red-500/20"};function T(e){let{epic:s,open:t,onOpenChange:i,onEdit:d,onDelete:o}=e,x=(0,f.useRouter)(),[p,u]=r.useState([]),[h,g]=r.useState(!1);r.useEffect(()=>{s&&t&&j()},[null==s?void 0:s.id,t]);let j=async()=>{if(s){g(!0);try{let e=await l.F.stories.list({epicId:s.id});u(e.data)}catch(e){console.error("Failed to fetch stories:",e),u([])}finally{g(!1)}}},b=async()=>{if(s&&confirm('Delete epic "'.concat(s.title,'"? This cannot be undone.')))try{await l.F.epics.delete(s.id),M.o.success("Epic deleted"),null==o||o(s.id),i(!1),x.refresh()}catch(e){M.o.error(e.message||"Failed to delete epic")}},N=p.filter(e=>"done"===e.status).length,w=p.length,S=w>0?Math.round(N/w*100):0;return s?(0,a.jsx)(v,{open:t,onOpenChange:i,children:(0,a.jsxs)(k,{side:"right",className:"w-full sm:max-w-2xl overflow-y-auto",children:[(0,a.jsx)(C,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(E,{className:"text-2xl mb-2",children:s.title}),(0,a.jsxs)(A,{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(m.E,{className:(0,y.cn)("border",O[s.status]),children:s.status.replace("_"," ")}),(0,a.jsx)(m.E,{className:(0,y.cn)("border",R[s.priority]),children:s.priority}),s.aiGenerated&&(0,a.jsx)(m.E,{variant:"secondary",children:"AI Generated"})]})]})})}),(0,a.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[d&&(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>d(s),children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(n.$,{variant:"outline",size:"sm",onClick:b,className:"text-red-400 hover:text-red-300",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 mr-2"}),"Delete"]}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(z(),{href:"/projects/".concat(s.projectId,"/epics/").concat(s.id),children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-2"}),"View Full Page"]})})]}),s.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.description})]}),s.goals&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(F,{className:"h-4 w-4"}),"Goals"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:s.goals})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.startDate&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mb-1",children:[(0,a.jsx)(I.A,{className:"h-3 w-3"}),"Start Date"]}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,G.GP)(new Date(s.startDate),"PPP")})]}),s.targetDate&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mb-1",children:[(0,a.jsx)(I.A,{className:"h-3 w-3"}),"Target Date"]}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,G.GP)(new Date(s.targetDate),"PPP")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold",children:"Progress"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[N," / ",w," stories"]})]}),(0,a.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600 transition-all",role:"progressbar","aria-label":"Epic progress: ".concat(S,"% complete"),"aria-valuenow":S,"aria-valuemin":0,"aria-valuemax":100,style:{width:"".concat(S,"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[S,"% complete"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold mb-3",children:["Stories (",w,")"]}),h?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading stories..."}):p.length>0?(0,a.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,a.jsx)(c.Zp,{className:"cursor-pointer hover:border-purple-500/50 transition-colors",onClick:()=>x.push("/stories/".concat(e.id)),children:(0,a.jsx)(c.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(m.E,{variant:"secondary",className:"text-xs",children:e.status.replace("_"," ")}),e.storyPoints&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.storyPoints," pts"]})]})]}),(0,a.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 ml-2"})]})})},e.id))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No stories in this epic yet."})]})]})]})}):null}var V=t(68122);let $={draft:"bg-gray-500/10 text-gray-400 border-gray-500/20",published:"bg-blue-500/10 text-blue-400 border-blue-500/20",planned:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",in_progress:"bg-purple-500/10 text-purple-400 border-purple-500/20",completed:"bg-green-500/10 text-green-400 border-green-500/20",archived:"bg-gray-500/10 text-gray-400 border-gray-500/20"},q={low:"bg-gray-500/10 text-gray-400 border-gray-500/20",medium:"bg-blue-500/10 text-blue-400 border-blue-500/20",high:"bg-orange-500/10 text-orange-400 border-orange-500/20",critical:"bg-red-500/10 text-red-400 border-red-500/20"};function H(){let[e,s]=r.useState([]),[t,f]=r.useState([]),[j,b]=r.useState(!0),[v,N]=r.useState(null),[w,S]=r.useState(""),[k,C]=r.useState("all"),[E,A]=r.useState("all"),[P,D]=r.useState("all"),[_,F]=r.useState(!1),[I,G]=r.useState(!1),[L,z]=r.useState(null),[O,R]=r.useState(!1),[H,Z]=r.useState(1),[W,J]=r.useState(12);r.useEffect(()=>{Y(),U()},[]);let U=async()=>{try{let e=await l.F.projects.list();f(e.data||[])}catch(e){console.error("Failed to load projects:",e)}},Y=async()=>{try{b(!0),N(null);let e=await l.F.epics.list();s(e.data||[])}catch(e){N(e.message||"Failed to load epics"),s([]),M.o.error("Failed to load epics")}finally{b(!1)}},B=e.filter(e=>{var s;let t=e.title.toLowerCase().includes(w.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(w.toLowerCase())),a="all"===k||e.status===k,r="all"===E||e.priority===E,l="all"===P||e.projectId===P;return t&&a&&r&&l});r.useEffect(()=>{Z(1)},[w,k,E,P]);let K=B.length,Q=(H-1)*W,X=B.slice(Q,Q+W);return(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(h.AppSidebar,{}),(0,a.jsxs)("main",{className:"flex-1 md:ml-64",children:[(0,a.jsx)("div",{className:"border-b border-border bg-card/80 backdrop-blur-xl sticky top-0 z-10",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 md:py-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gradient-primary",children:(0,a.jsx)(i.A,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Epics"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your epic-level features and initiatives"})]})]}),(0,a.jsxs)(n.$,{onClick:()=>F(!0),children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Epic"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-6 flex-wrap",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(p.p,{placeholder:"Search epics...",value:w,onChange:e=>S(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(x.l,{value:P,onChange:e=>D(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Projects"}),t.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsxs)(x.l,{value:k,onChange:e=>C(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"}),(0,a.jsx)("option",{value:"planned",children:"Planned"}),(0,a.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]}),(0,a.jsxs)(x.l,{value:E,onChange:e=>A(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Priorities"}),(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"}),(0,a.jsx)("option",{value:"critical",children:"Critical"})]})]})]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-8",children:j?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsx)(c.Zp,{children:(0,a.jsxs)(c.Wu,{className:"p-6",children:[(0,a.jsx)(V.E,{className:"h-6 w-3/4 mb-3"}),(0,a.jsx)(V.E,{className:"h-4 w-full mb-2"}),(0,a.jsx)(V.E,{className:"h-4 w-2/3"})]})},s))}):v?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-red-400 mb-4",children:v}),(0,a.jsx)(n.$,{onClick:Y,children:"Retry"})]}):0===B.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No epics found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:w||"all"!==k||"all"!==E||"all"!==P?"Try adjusting your filters":"Get started by creating your first epic"}),!w&&"all"===k&&"all"===E&&"all"===P&&(0,a.jsxs)(n.$,{onClick:()=>F(!0),children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Create Epic"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(e=>(0,a.jsx)(c.Zp,{className:"cursor-pointer hover:shadow-lg hover:shadow-purple-500/10 transition-all",onClick:()=>{z(e),R(!0)},children:(0,a.jsxs)(c.Wu,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsx)(m.E,{className:(0,y.cn)("border",$[e.status]),children:e.status.replace("_"," ")}),(0,a.jsx)(m.E,{className:(0,y.cn)("border",q[e.priority]),children:e.priority})]}),(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:e.title}),e.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description}),(void 0!==e.totalStories||e.aiGenerated)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[void 0!==e.totalStories&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.completedStories||0," / ",e.totalStories," stories"]}),e.totalStories>0&&(0,a.jsx)("div",{className:"h-1.5 w-16 bg-muted rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-primary transition-all",role:"progressbar","aria-label":"Epic progress: ".concat(e.completedStories||0," of ").concat(e.totalStories," stories completed"),"aria-valuenow":Math.round(e.totalStories>0?(e.completedStories||0)/e.totalStories*100:0),"aria-valuemin":0,"aria-valuemax":100,style:{width:"".concat(e.totalStories>0?(e.completedStories||0)/e.totalStories*100:0,"%")}})})]}),e.aiGenerated&&(0,a.jsx)(m.E,{variant:"secondary",className:"text-xs ml-auto",children:"AI"})]})]})},e.id))}),B.length>0&&(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(u.d,{currentPage:H,totalItems:K,itemsPerPage:W,onPageChange:e=>{Z(e),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:e=>{J(e),Z(1)},itemName:"epics"})})]})})]}),(0,a.jsx)(g.F,{open:_,onOpenChange:F,onSuccess:()=>{F(!1),Y()}}),(0,a.jsx)(g.F,{epic:L||void 0,open:I,onOpenChange:G,onSuccess:()=>{G(!1),Y()}}),(0,a.jsx)(T,{epic:L,open:O,onOpenChange:R,onEdit:e=>{z(e),G(!0),R(!1)},onDelete:t=>{s(e.filter(e=>e.id!==t))}})]})}},68122:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(95155),r=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}},71360:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},91395:(e,s,t)=>{Promise.resolve().then(t.bind(t,62457))},93499:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},e=>{e.O(0,[5707,6489,8720,9484,8184,5193,6434,207,814,575,4964,5720,4850,8441,504,7358],()=>e(e.s=91395)),_N_E=e.O()}]);
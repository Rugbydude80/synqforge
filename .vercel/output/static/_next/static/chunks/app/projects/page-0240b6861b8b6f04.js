try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b7c2d02b-9994-4773-9687-ca116ff28dc2",e._sentryDebugIdIdentifier="sentry-dbid-b7c2d02b-9994-4773-9687-ca116ff28dc2")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},24033:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},26983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},28909:(e,s,t)=>{"use strict";t.d(s,{D:()=>u});var a=t(95155),r=t(12115),l=t(20063),i=t(36489),n=t(18720),c=t(54679),d=t(97003),o=t(33789),m=t(67001),x=t(90235),p=t(2327);function u(e){let{open:s,onOpenChange:t,onSuccess:u}=e,h=(0,l.useRouter)(),{data:j}=(0,i.useSession)(),[g,y]=r.useState(!1),[v,b]=r.useState(null),[f,N]=r.useState({name:"",key:"",description:""});r.useEffect(()=>{if(f.name&&!f.key){let e=f.name.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,10);N(s=>({...s,key:e}))}},[f.name,f.key]);let w=async e=>{var s;if(e.preventDefault(),!(null==j||null==(s=j.user)?void 0:s.id))return void b("You must be logged in to create a project");if(!f.name.trim())return void b("Project name is required");if(!f.key.trim())return void b("Project key is required");if(!/^[A-Z0-9]{2,10}$/.test(f.key))return void b("Project key must be 2-10 uppercase letters or numbers");y(!0),b(null);try{let e=await p.F.projects.create({name:f.name.trim(),key:f.key.trim().toUpperCase(),slug:f.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),description:f.description.trim()||void 0,ownerId:j.user.id});N({name:"",key:"",description:""}),n.o.success("Project created successfully!"),null==u||u(),t(!1),h.push("/projects/".concat(e.id))}catch(e){b(e.message||"Failed to create project"),n.o.error(e.message||"Failed to create project")}finally{y(!1)}},k=e=>{!g&&(t(e),e||(N({name:"",key:"",description:""}),b(null)))};return(0,a.jsx)(c.lG,{open:s,onOpenChange:k,children:(0,a.jsx)(c.Cf,{className:"sm:max-w-[500px]",children:(0,a.jsxs)("form",{onSubmit:w,children:[(0,a.jsxs)(c.c7,{children:[(0,a.jsx)(c.L3,{children:"Create New Project"}),(0,a.jsx)(c.rr,{children:"Create a new project to organize your user stories and epics."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"name",children:"Project Name *"}),(0,a.jsx)(o.p,{id:"name",placeholder:"My Awesome Project",value:f.name,onChange:e=>N(s=>({...s,name:e.target.value,key:""})),maxLength:100,disabled:g,autoFocus:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"key",children:"Project Key *"}),(0,a.jsx)(o.p,{id:"key",placeholder:"MAP",value:f.key,onChange:e=>N(s=>({...s,key:e.target.value.toUpperCase()})),maxLength:10,disabled:g,className:"uppercase"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"2-10 uppercase letters/numbers (e.g., PROJ, APP, WEB)"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(x.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(m.T,{id:"description",placeholder:"Brief description of your project...",value:f.description,onChange:e=>N(s=>({...s,description:e.target.value})),maxLength:500,disabled:g,rows:3})]}),v&&(0,a.jsx)("div",{className:"text-sm text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2",children:v})]}),(0,a.jsxs)(c.Es,{children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>k(!1),disabled:g,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",loading:g,children:"Create Project"})]})]})})})}},52056:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},61362:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},61381:(e,s,t)=>{Promise.resolve().then(t.bind(t,65657))},63950:(e,s,t)=>{"use strict";t.d(s,{N:()=>u});var a=t(95155),r=t(12115),l=t(18720),i=t(2327),n=t(54679),c=t(97003),d=t(33789),o=t(67001),m=t(90235),x=t(47507),p=t(52056);function u(e){let{open:s,onOpenChange:t,project:u,onSuccess:h}=e,[j,g]=r.useState(!1),[y,v]=r.useState(null),[b,f]=r.useState(!1),[N,w]=r.useState({name:"",description:"",status:"active"});r.useEffect(()=>{u&&w({name:u.name,description:u.description||"",status:u.status||"active"})},[u]);let k=async e=>{if(e.preventDefault(),!N.name.trim())return void v("Project name is required");g(!0),v(null);try{await i.F.projects.update(u.id,{name:N.name.trim(),description:N.description.trim()||void 0,status:N.status}),l.o.success("Project updated successfully!"),null==h||h(),t(!1)}catch(e){v(e.message||"Failed to update project"),l.o.error(e.message||"Failed to update project")}finally{g(!1)}},C=async()=>{g(!0),v(null);try{await i.F.projects.delete(u.id),l.o.success("Project deleted successfully!"),null==h||h(),t(!1)}catch(e){v(e.message||"Failed to delete project"),l.o.error(e.message||"Failed to delete project"),f(!1)}finally{g(!1)}};return b?(0,a.jsx)(n.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(n.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsxs)(n.L3,{className:"flex items-center gap-2 text-red-400",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Delete Project"]}),(0,a.jsxs)(n.rr,{children:['Are you sure you want to delete "',u.name,'"? This action cannot be undone and will delete all associated epics and stories.']})]}),y&&(0,a.jsx)("div",{className:"text-sm text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2",children:y}),(0,a.jsxs)(n.Es,{className:"gap-2",children:[(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:j,children:"Cancel"}),(0,a.jsx)(c.$,{type:"button",variant:"destructive",onClick:C,disabled:j,children:j?"Deleting...":"Delete Project"})]})]})}):(0,a.jsx)(n.lG,{open:s,onOpenChange:t,children:(0,a.jsx)(n.Cf,{className:"sm:max-w-[600px]",children:(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)(n.c7,{children:[(0,a.jsx)(n.L3,{children:"Edit Project"}),(0,a.jsx)(n.rr,{children:"Update project details"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(m.J,{htmlFor:"name",children:"Project Name *"}),(0,a.jsx)(d.p,{id:"name",placeholder:"My Awesome Project",value:N.name,onChange:e=>w(s=>({...s,name:e.target.value})),maxLength:100,disabled:j,autoFocus:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(m.J,{htmlFor:"key",children:"Project Key"}),(0,a.jsx)(d.p,{id:"key",value:u.key,disabled:!0,className:"opacity-50 cursor-not-allowed"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Project key cannot be changed after creation"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(m.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(o.T,{id:"description",placeholder:"Brief description of your project...",value:N.description,onChange:e=>w(s=>({...s,description:e.target.value})),maxLength:500,disabled:j,rows:3})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(m.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(x.l,{id:"status",value:N.status,onChange:e=>w(s=>({...s,status:e.target.value})),disabled:j,children:[(0,a.jsx)("option",{value:"planning",children:"Planning"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"on_hold",children:"On Hold"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]})]}),y&&(0,a.jsx)("div",{className:"text-sm text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2",children:y})]}),(0,a.jsxs)(n.Es,{className:"gap-2 sm:justify-between",children:[(0,a.jsx)(c.$,{type:"button",variant:"destructive",onClick:()=>f(!0),disabled:j,className:"sm:mr-auto",children:"Delete Project"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:j,children:"Cancel"}),(0,a.jsx)(c.$,{type:"submit",disabled:j,children:j?"Saving...":"Save Changes"})]})]})]})})})}},65657:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(95155),r=t(12115),l=t(20063),i=t(2327),n=t(6132),c=t(95740),d=t(6191),o=t(86651),m=t(87717),x=t(15870),p=t(61362),u=t(26983),h=t(97003),j=t(33789),g=t(47507),y=t(83209),v=t(67812),b=t(44022),f=t(28909),N=t(63950),w=t(46070),k=t(25016);function C(){let e=(0,l.useRouter)(),[s,t]=r.useState([]),[C,A]=r.useState(!0),[P,S]=r.useState(null),[F,D]=r.useState(""),[E,L]=r.useState("all"),[_,T]=r.useState(!1),[$,M]=r.useState(!1),[O,I]=r.useState(null),[J,q]=r.useState(1),[z,B]=r.useState(12);r.useEffect(()=>{G()},[]);let G=async()=>{try{A(!0),S(null);let e=await i.F.projects.list();t(Array.isArray(null==e?void 0:e.data)?e.data:[])}catch(e){S(e.message||"Failed to load projects"),t([])}finally{A(!1)}},U=s.filter(e=>{var s;let t=e.name.toLowerCase().includes(F.toLowerCase())||e.key.toLowerCase().includes(F.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(F.toLowerCase())),a="all"===E||e.status===E;return t&&a});r.useEffect(()=>{q(1)},[F,E]);let R=U.length,Z=(J-1)*z,H=U.slice(Z,Z+z),K=()=>{G()};return C?(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(w.AppSidebar,{}),(0,a.jsx)("main",{className:"flex-1 md:ml-64",children:(0,a.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-6 md:py-8",children:[(0,a.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,a.jsx)("div",{className:"h-8 w-48 bg-gray-700/50 rounded animate-pulse mb-2"}),(0,a.jsx)("div",{className:"h-4 w-full max-w-96 bg-gray-700/50 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[1,2,3,4,5,6].map(e=>(0,a.jsx)("div",{className:"h-64 bg-gray-800/50 rounded-lg animate-pulse"},e))})]})})]}):P?(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(w.AppSidebar,{}),(0,a.jsx)("main",{className:"flex-1 md:ml-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:P}),(0,a.jsx)(h.$,{onClick:G,children:"Try Again"})]})})]}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,a.jsx)(w.AppSidebar,{}),(0,a.jsx)("main",{className:"flex-1 md:ml-64",children:(0,a.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-6 md:py-8",children:[(0,a.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Projects"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-gray-400",children:"Manage your projects and track progress"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,a.jsxs)(h.$,{variant:"outline",onClick:()=>e.push("/ai-generate"),className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-500/20 hover:border-purple-500/40",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"AI Generate"]}),(0,a.jsxs)(h.$,{onClick:()=>T(!0),size:"lg",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2"}),"New Project"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(j.p,{placeholder:"Search projects...",value:F,onChange:e=>D(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(g.l,{value:E,onChange:e=>L(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"planning",children:"Planning"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"on_hold",children:"On Hold"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]})]})]}),0===U.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(m.A,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:F||"all"!==E?"No projects found":"No projects yet"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:F||"all"!==E?"Try adjusting your search or filter criteria":"Get started by creating your first project"}),!F&&"all"===E&&(0,a.jsxs)(h.$,{onClick:()=>T(!0),children:[(0,a.jsx)(d.A,{className:"h-5 w-5 mr-2"}),"Create Project"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:H.map(s=>(0,a.jsxs)(y.Zp,{className:"group hover:shadow-2xl hover:shadow-purple-500/10 transition-all cursor-pointer",onClick:()=>e.push("/projects/".concat(s.id)),children:[(0,a.jsxs)(y.aR,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)(v.E,{variant:"outline",className:"font-mono",children:s.key}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.E,{className:(0,k.cn)("border",(e=>{switch(e){case"active":return"bg-green-500/10 text-green-400 border-green-500/20";case"planning":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"on_hold":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"completed":return"bg-purple-500/10 text-purple-400 border-purple-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}})(s.status)),children:s.status.replace("_"," ")}),(0,a.jsx)(h.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),I(s),M(!0)},className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(y.ZB,{className:"text-xl group-hover:text-purple-400 transition-colors",children:s.name}),(0,a.jsx)(y.BT,{className:"line-clamp-2",children:s.description||"No description provided"})]}),(0,a.jsxs)(y.Wu,{children:[void 0!==s.totalStories&&s.totalStories>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Progress"}),(0,a.jsxs)("span",{className:"text-white font-medium",children:[s.progressPercentage||0,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-emerald-500 transition-all",style:{width:"".concat(s.progressPercentage||0,"%")}})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Total Stories"})]}),(0,a.jsx)("div",{className:"text-white font-semibold",children:s.totalStories||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Completed"})]}),(0,a.jsx)("div",{className:"text-white font-semibold",children:s.completedStories||0})]})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-700 flex items-center justify-between text-xs text-gray-400",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Updated ",(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):t<30?"".concat(Math.floor(t/7)," weeks ago"):t<365?"".concat(Math.floor(t/30)," months ago"):"".concat(Math.floor(t/365)," years ago")})(s.updatedAt)]})]})})]})]},s.id))}),U.length>0&&(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(b.d,{currentPage:J,totalItems:R,itemsPerPage:z,onPageChange:e=>{q(e),window.scrollTo({top:0,behavior:"smooth"})},onItemsPerPageChange:e=>{B(e),q(1)},itemName:"projects"})})]})]})}),(0,a.jsx)(f.D,{open:_,onOpenChange:T,onSuccess:K}),$&&O&&(0,a.jsx)(N.N,{open:$,onOpenChange:M,project:O,onSuccess:K})]})}}},e=>{e.O(0,[5707,6489,8720,9484,8184,5193,575,4964,4850,8441,504,7358],()=>e(e.s=61381)),_N_E=e.O()}]);
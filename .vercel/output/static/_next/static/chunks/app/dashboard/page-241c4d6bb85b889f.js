try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4baf393c-be71-40cb-acd8-db8580fe0fa9",e._sentryDebugIdIdentifier="sentry-dbid-4baf393c-be71-40cb-acd8-db8580fe0fa9")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},21786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},26983:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},28909:(e,t,a)=>{"use strict";a.d(t,{D:()=>h});var s=a(95155),r=a(12115),l=a(20063),i=a(36489),n=a(18720),o=a(54679),c=a(97003),d=a(33789),p=a(67001),u=a(90235),m=a(2327);function h(e){let{open:t,onOpenChange:a,onSuccess:h}=e,x=(0,l.useRouter)(),{data:g}=(0,i.useSession)(),[f,j]=r.useState(!1),[v,y]=r.useState(null),[b,N]=r.useState({name:"",key:"",description:""});r.useEffect(()=>{if(b.name&&!b.key){let e=b.name.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").slice(0,10);N(t=>({...t,key:e}))}},[b.name,b.key]);let w=async e=>{var t;if(e.preventDefault(),!(null==g||null==(t=g.user)?void 0:t.id))return void y("You must be logged in to create a project");if(!b.name.trim())return void y("Project name is required");if(!b.key.trim())return void y("Project key is required");if(!/^[A-Z0-9]{2,10}$/.test(b.key))return void y("Project key must be 2-10 uppercase letters or numbers");j(!0),y(null);try{let e=await m.F.projects.create({name:b.name.trim(),key:b.key.trim().toUpperCase(),slug:b.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),description:b.description.trim()||void 0,ownerId:g.user.id});N({name:"",key:"",description:""}),n.o.success("Project created successfully!"),null==h||h(),a(!1),x.push("/projects/".concat(e.id))}catch(e){y(e.message||"Failed to create project"),n.o.error(e.message||"Failed to create project")}finally{j(!1)}},k=e=>{!f&&(a(e),e||(N({name:"",key:"",description:""}),y(null)))};return(0,s.jsx)(o.lG,{open:t,onOpenChange:k,children:(0,s.jsx)(o.Cf,{className:"sm:max-w-[500px]",children:(0,s.jsxs)("form",{onSubmit:w,children:[(0,s.jsxs)(o.c7,{children:[(0,s.jsx)(o.L3,{children:"Create New Project"}),(0,s.jsx)(o.rr,{children:"Create a new project to organize your user stories and epics."})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(u.J,{htmlFor:"name",children:"Project Name *"}),(0,s.jsx)(d.p,{id:"name",placeholder:"My Awesome Project",value:b.name,onChange:e=>N(t=>({...t,name:e.target.value,key:""})),maxLength:100,disabled:f,autoFocus:!0})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(u.J,{htmlFor:"key",children:"Project Key *"}),(0,s.jsx)(d.p,{id:"key",placeholder:"MAP",value:b.key,onChange:e=>N(t=>({...t,key:e.target.value.toUpperCase()})),maxLength:10,disabled:f,className:"uppercase"}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"2-10 uppercase letters/numbers (e.g., PROJ, APP, WEB)"})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(u.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(p.T,{id:"description",placeholder:"Brief description of your project...",value:b.description,onChange:e=>N(t=>({...t,description:e.target.value})),maxLength:500,disabled:f,rows:3})]}),v&&(0,s.jsx)("div",{className:"text-sm text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg px-3 py-2",children:v})]}),(0,s.jsxs)(o.Es,{children:[(0,s.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>k(!1),disabled:f,children:"Cancel"}),(0,s.jsx)(c.$,{type:"submit",loading:f,children:"Create Project"})]})]})})})}},32559:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>o,TN:()=>d,XL:()=>c});var s=a(95155),r=a(12115),l=a(83101),i=a(25016);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,...l}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(n({variant:r}),a),...l})});o.displayName="Alert";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})});c.displayName="AlertTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});d.displayName="AlertDescription"},33789:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155),r=a(12115),l=a(25016);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-gray-700 bg-gray-800/50 px-3 py-2 text-sm text-white placeholder:text-gray-400","ring-offset-gray-900 file:border-0 file:bg-transparent file:text-sm file:font-medium","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-purple-500 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all hover:border-gray-600",a),ref:t,...i})});i.displayName="Input"},35299:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},54679:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>p,Es:()=>m,L3:()=>h,c7:()=>u,lG:()=>o,rr:()=>x});var s=a(95155),r=a(12115),l=a(89511),i=a(65229),n=a(25016);let o=l.bL;l.l9;let c=l.ZL;l.bm;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});d.displayName=l.hJ.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-[calc(100%-2rem)] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-700 bg-gray-800/95 backdrop-blur-xl p-4 sm:p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg sm:rounded-lg",a),...o,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-gray-900 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-brand-purple-500 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-700 data-[state=open]:text-gray-200",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=l.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight text-white",a),...r})});h.displayName=l.hE.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-gray-400",a),...r})});x.displayName=l.VY.displayName},61362:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},64437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var s=a(95155),r=a(12115),l=a(36489),i=a(20063),n=a(2327),o=a(87717),c=a(89715),d=a(61362),p=a(95740),u=a(6191),m=a(21786),h=a(26983),x=a(71847);let g=(0,x.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f=(0,x.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var j=a(6132),v=a(35299),y=a(97003),b=a(83209),N=a(67812),w=a(32559),k=a(28909),A=a(46070),C=a(78519);function S(e){let{trialEndsAt:t,subscriptionStatus:a,plan:l}=e,n=(0,i.useRouter)(),[o,c]=(0,r.useState)(null),[d,p]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(!t)return;let e=()=>{let e=new Date,a=Math.ceil((new Date(t).getTime()-e.getTime())/864e5);a<0?(p(!0),c(0)):(p(!1),c(a))};e();let a=setInterval(e,36e5);return()=>clearInterval(a)},[t]),!t||"trialing"===a||"active"===a&&"free"!==l||d||!o||o>7)return null;let u=o<=2,m=o<=3;return(0,s.jsxs)(w.Fc,{className:"".concat(u?"border-red-500/50 bg-red-500/10":m?"border-amber-500/50 bg-amber-500/10":"border-blue-500/50 bg-blue-500/10"),children:[(0,s.jsx)(j.A,{className:"h-4 w-4 ".concat(u?"text-red-500":m?"text-amber-500":"text-blue-500")}),(0,s.jsxs)(w.XL,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),u?"Trial expires in ".concat(o," day").concat(1!==o?"s":"","!"):"Trial expires in ".concat(o," days")]}),(0,s.jsxs)(w.TN,{className:"mt-2 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-sm",children:u?"Your free trial is about to expire. Upgrade now to continue using all features without interruption.":m?"Your free trial is expiring soon. Upgrade to keep access to all features.":"Your free trial will expire soon. Consider upgrading to continue with full access."})}),(0,s.jsx)("div",{className:"ml-4 flex gap-2",children:(0,s.jsxs)(y.$,{size:"sm",variant:u?"default":"outline",onClick:()=>n.push("/settings/billing"),className:u?"bg-red-600 hover:bg-red-700":"",children:[(0,s.jsx)(C.A,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})})]})]})}var P=a(25016);function _(){let{status:e}=(0,l.useSession)(),t=(0,i.useRouter)(),[a,x]=(0,r.useState)(null),[C,_]=(0,r.useState)([]),[I,D]=(0,r.useState)([]),[E,z]=(0,r.useState)(!0),[F,R]=(0,r.useState)(""),[T,L]=(0,r.useState)(!1),[M,U]=(0,r.useState)(null),[$,G]=(0,r.useState)(!1),[V,H]=(0,r.useState)("all"),[O,J]=(0,r.useState)(null),[,Y]=(0,r.useState)({}),[q,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{if("unauthenticated"===e)return void t.push("/auth/signin");"authenticated"===e&&Z()},[e,t]),(0,r.useEffect)(()=>{let e=setInterval(()=>{Y({})},1e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{if("authenticated"!==e)return;let t=setInterval(()=>{Z(!0)},3e4);return()=>clearInterval(t)},[e]);let Z=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?G(!0):z(!0);let[t,a,s,r]=await Promise.all([n.F.dashboard.getStats(),n.F.activities.list({limit:10}),n.F.projects.list(),fetch("/api/organizations/me").then(e=>e.ok?e.json():null).catch(()=>null)]);x(t),_(a.data);let l=s.data.filter(e=>"planning"===e.status||"on_hold"===e.status);D(l),r&&W({trialEndsAt:r.trialEndsAt?new Date(r.trialEndsAt):null,subscriptionStatus:r.subscriptionStatus||"inactive",plan:r.plan||null}),R(""),J(new Date)}catch(e){console.error("Failed to fetch dashboard data:",e),R(e.message||"Failed to load dashboard")}finally{e?G(!1):z(!1)}},B=async e=>{try{U(e),await fetch("/api/projects/".concat(e,"/activate"),{method:"POST",credentials:"include"}),await Z()}catch(e){console.error("Failed to activate project:",e)}finally{U(null)}},K=(()=>{if(!a)return[{title:"Active Projects",value:"0",change:"+0 projects",trend:"neutral",icon:o.A,color:"purple",onClick:()=>t.push("/projects")},{title:"Total Stories",value:"00",change:"00 epics",trend:"neutral",icon:c.A,color:"emerald",onClick:()=>t.push("/stories")},{title:"Completed",value:"0%",change:"0 stories done",trend:"neutral",icon:d.A,color:"emerald",onClick:()=>t.push("/stories")},{title:"AI Generated",value:"0",change:"NaN% of stories",trend:"neutral",icon:p.A,color:"purple",onClick:()=>t.push("/ai-generate")}];let e=[];a.planningProjects>0&&e.push("".concat(a.planningProjects," Planning")),a.onHoldProjects>0&&e.push("".concat(a.onHoldProjects," On Hold")),a.completedProjects>0&&e.push("".concat(a.completedProjects," Completed")),a.archivedProjects>0&&e.push("".concat(a.archivedProjects," Archived"));let s=e.length>0?e.join(" | "):"".concat(a.totalProjects," total");return[{title:"Active Projects",value:a.activeProjects.toString(),change:s,trend:a.activeProjects>0?"up":"neutral",icon:o.A,color:"purple",hasInactive:0===a.activeProjects&&a.totalProjects>0,onClick:()=>t.push("/projects")},{title:"Total Stories",value:a.totalStories.toString().padStart(2,"0"),change:"".concat(a.totalEpics.toString().padStart(2,"0")," epics"),trend:a.totalStories>0?"up":"neutral",icon:c.A,color:"emerald",onClick:()=>t.push("/stories")},{title:"Completed",value:"".concat(a.completionPercentage,"%"),change:"".concat(a.completedStories," stories done"),trend:a.completedStories>0?"up":"neutral",icon:d.A,color:"emerald",onClick:()=>t.push("/stories")},{title:"AI Generated",value:a.aiGeneratedStories.toString(),change:a.totalStories>0?"".concat(a.aiGeneratedPercentage,"% of stories"):"NaN% of stories",trend:a.aiGeneratedStories>0?"up":"neutral",icon:p.A,color:"purple",onClick:()=>t.push("/ai-generate")}]})(),X=C.map(e=>{var t,a,s,r,l;let i={created_project:{title:"Created ".concat(e.projectName||"project"),type:"project_created",status:"in-progress"},updated_project:{title:"Updated ".concat(e.projectName||"project"),type:"project_updated",status:"in-progress"},created_story:{title:"Created story in ".concat(e.projectName||"project"),type:(null==(t=e.newValues)?void 0:t.aiGenerated)?"ai_generated":"story_created",status:"in-progress"},updated_story:{title:"Updated story in ".concat(e.projectName||"project"),type:(null==(a=e.newValues)?void 0:a.status)==="done"?"story_completed":"story_updated",status:(null==(s=e.newValues)?void 0:s.status)==="done"?"done":"in-progress"},story_deleted:{title:"Deleted story in ".concat(e.projectName||"project"),type:"story_deleted",status:"deleted"},deleted_project:{title:"Deleted project ".concat((null==(r=e.metadata)?void 0:r.projectName)||""),type:"project_deleted",status:"deleted"},deleted_epic:{title:"Deleted epic in ".concat(e.projectName||"project"),type:"epic_deleted",status:"deleted"},created_epic:{title:"Created epic in ".concat(e.projectName||"project"),type:(null==(l=e.newValues)?void 0:l.aiGenerated)?"ai_generated":"epic_created",status:"in-progress"}}[e.action]||{title:"".concat(e.action," in ").concat(e.projectName||"project"),type:"other",status:"in-progress"};return{id:e.id,title:i.title,type:i.type,project:e.projectName||"Unknown Project",projectId:e.projectId,user:e.userName||e.userEmail||"Unknown User",timestamp:new Date(e.createdAt),status:i.status}}).filter(e=>"all"===V||("ai"===V?"ai_generated"===e.type:"completed"===V?"done"===e.status:"deleted"!==V||"deleted"===e.status)),Q=[{icon:u.A,label:"New Project",description:"Start a new project",gradient:!0,onClick:()=>L(!0)},{icon:p.A,label:"AI Generate",description:"Generate stories with AI",gradient:!0,onClick:()=>t.push("/ai-generate")},{icon:m.A,label:"Upload Document",description:"Upload requirements doc",gradient:!1,onClick:()=>t.push("/ai-generate")}];return(0,s.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,s.jsx)(A.AppSidebar,{}),(0,s.jsxs)("main",{className:"flex-1 md:ml-64",children:[(0,s.jsxs)("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-card/80 backdrop-blur-xl px-3 sm:px-4 md:px-6 lg:px-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Welcome back! Here's what's happening."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[O&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Last sync: ",(0,P.fw)(O)]})]}),(0,s.jsxs)(y.$,{variant:"outline",size:"sm",onClick:()=>Z(!0),disabled:$,className:"hover:border-purple-500/50 transition-all",children:[(0,s.jsx)(g,{className:(0,P.cn)("h-4 w-4 mr-2",$&&"animate-spin")}),$?"Refreshing...":"Refresh"]}),(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-primary"})]})]}),(0,s.jsxs)("div",{className:"p-8 space-y-8",children:[E&&(0,s.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,s.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),(0,s.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading dashboard..."})]}),F&&(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"text-destructive mb-2",children:F}),(0,s.jsx)(y.$,{onClick:()=>window.location.reload(),children:"Try Again"})]}),!E&&!F&&(0,s.jsxs)(s.Fragment,{children:[q&&(0,s.jsx)(S,{trialEndsAt:q.trialEndsAt,subscriptionStatus:q.subscriptionStatus,plan:q.plan}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:K.map((e,t)=>(0,s.jsxs)(b.Zp,{className:"relative overflow-hidden group hover:shadow-2xl hover:scale-105 hover:border-purple-500/50 transition-all duration-300 cursor-pointer",onClick:e.onClick,role:"button",tabIndex:0,onKeyDown:t=>{if("Enter"===t.key||" "===t.key){var a;t.preventDefault(),null==(a=e.onClick)||a.call(e)}},"aria-label":"View ".concat(e.title),children:[(0,s.jsx)("div",{className:(0,P.cn)("absolute top-0 right-0 h-32 w-32 rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition-all duration-300 group-hover:scale-150","purple"===e.color?"bg-brand-purple-500":"bg-brand-emerald-500")}),(0,s.jsx)(b.aR,{className:"pb-2",children:(0,s.jsxs)(b.BT,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:e.title}),(0,s.jsx)(e.icon,{className:(0,P.cn)("h-4 w-4 transition-all duration-300 group-hover:scale-125","purple"===e.color?"text-brand-purple-400":"text-brand-emerald-400")})]})}),(0,s.jsxs)(b.Wu,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold group-hover:scale-110 transition-transform duration-300",children:e.value}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-xs",children:["up"===e.trend&&(0,s.jsx)(f,{className:"h-3 w-3 text-brand-emerald-400 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:e.change})]})]})]},t))}),a&&0===a.activeProjects&&I.length>0&&(0,s.jsxs)(w.Fc,{className:"border-yellow-500/50 bg-yellow-500/10",children:[(0,s.jsx)(j.A,{className:"h-4 w-4 text-yellow-500"}),(0,s.jsx)(w.XL,{className:"text-yellow-500",children:"No active projects yet"}),(0,s.jsxs)(w.TN,{className:"text-muted-foreground mt-2",children:[(0,s.jsxs)("p",{className:"mb-3",children:["You have ",(0,s.jsxs)("strong",{children:[I.length," project",I.length>1?"s":""]})," in"," ",I.some(e=>"planning"===e.status)&&"Planning",I.some(e=>"on_hold"===e.status)&&" / On Hold","."," ","Mark a project as active to start tracking progress."]}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:I.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-background/50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",(0,s.jsx)("span",{className:"capitalize",children:e.status.replace("_"," ")})]})]})]}),(0,s.jsx)(y.$,{size:"sm",onClick:()=>B(e.id),disabled:M===e.id,className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:M===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{className:"h-3 w-3 mr-1 animate-spin"}),"Activating..."]}):"Mark Active"})]},e.id))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Q.map((e,t)=>(0,s.jsxs)(y.$,{variant:e.gradient?"default":"outline",className:"h-auto flex-col items-start gap-2 p-6 group",onClick:e.onClick,children:[(0,s.jsx)("div",{className:(0,P.cn)("flex h-12 w-12 items-center justify-center rounded-lg transition-transform group-hover:scale-110",e.gradient?"bg-white/20":"bg-accent"),children:(0,s.jsx)(e.icon,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.label}),(0,s.jsx)("div",{className:"text-xs opacity-80",children:e.description})]})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-muted rounded-lg p-1",children:[(0,s.jsx)(y.$,{variant:"all"===V?"default":"ghost",size:"sm",onClick:()=>H("all"),className:"h-7 text-xs",children:"All"}),(0,s.jsxs)(y.$,{variant:"ai"===V?"default":"ghost",size:"sm",onClick:()=>H("ai"),className:"h-7 text-xs",children:[(0,s.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"AI"]}),(0,s.jsxs)(y.$,{variant:"completed"===V?"default":"ghost",size:"sm",onClick:()=>H("completed"),className:"h-7 text-xs",children:[(0,s.jsx)(d.A,{className:"h-3 w-3 mr-1"}),"Done"]})]}),(0,s.jsx)(y.$,{variant:"ghost",size:"sm",children:"View All"})]})]}),(0,s.jsx)(b.Zp,{children:(0,s.jsx)(b.Wu,{className:"p-0",children:0===X.length?(0,s.jsxs)("div",{className:"p-8 text-center text-muted-foreground",children:[(0,s.jsx)("p",{children:"No recent activity yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Start by creating a project or generating stories"})]}):(0,s.jsx)("div",{className:"divide-y divide-border",children:X.map(e=>(0,s.jsxs)("div",{onClick:()=>e.projectId&&t.push("/projects/".concat(e.projectId)),className:(0,P.cn)("flex items-start gap-4 p-4 transition-all duration-200 group",e.projectId&&"hover:bg-accent/50 hover:pl-6 cursor-pointer hover:border-l-4 hover:border-purple-500"),role:e.projectId?"button":void 0,tabIndex:e.projectId?0:void 0,onKeyDown:a=>{e.projectId&&("Enter"===a.key||" "===a.key)&&(a.preventDefault(),t.push("/projects/".concat(e.projectId)))},"aria-label":e.projectId?"View ".concat(e.project):void 0,children:[(0,s.jsx)("div",{className:(0,P.cn)("mt-1 flex h-2 w-2 rounded-full transition-all duration-300 group-hover:scale-150 group-hover:shadow-lg","ai_generated"===e.type?"bg-brand-purple-500 shadow-glow-purple group-hover:shadow-purple-500/50":"bg-brand-emerald-500 shadow-glow-emerald group-hover:shadow-emerald-500/50")}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium group-hover:text-purple-400 transition-colors",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{className:"group-hover:text-foreground transition-colors",children:e.project}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:e.user}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:(0,P.fw)(e.timestamp)})]})]}),(0,s.jsx)(N.E,{variant:"done"===e.status?"emerald":"in-progress"===e.status?"purple":"deleted"===e.status?"destructive":"outline",className:"group-hover:scale-105 transition-transform",children:e.status})]},e.id))})})})]})]})]})]}),(0,s.jsx)(k.D,{open:T,onOpenChange:L,onSuccess:Z})]})}},67001:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var s=a(95155),r=a(12115),l=a(25016);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-lg border border-gray-700 bg-gray-800/50 px-3 py-2 text-sm text-white placeholder:text-gray-400","ring-offset-gray-900","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-purple-500 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all hover:border-gray-600","resize-vertical",a),ref:t,...r})});i.displayName="Textarea"},74449:(e,t,a)=>{Promise.resolve().then(a.bind(a,64437))},78519:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},90235:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(95155),r=a(12115),l=a(10489),i=a(25016);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,i.cn)("text-sm font-medium text-gray-200 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...r})});n.displayName=l.b.displayName}},e=>{e.O(0,[5707,6489,8720,9484,8184,5193,575,4850,8441,504,7358],()=>e(e.s=74449)),_N_E=e.O()}]);